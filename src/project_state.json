{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 21,
  "summary": "Project to create an original, realistic 3D online multiplayer military action game inspired by modern military shooters, explicitly avoiding any copyrighted Call of Duty content.",
  "architectural_notes": [
    "Must be original and not use copyrighted Call of Duty/Cold War characters, maps, assets, branding, or storyline.",
    "Any new maps must be original and must not recreate or closely imitate recognizable Call of Duty map layouts, landmarks, names, or signature set pieces.",
    "Plan for a distributable HTML5 build output (static files with index.html) that can be zipped and uploaded to itch.io."
  ],
  "known_issues": [
    "Creating a new lobby fails with an error message ('failed').",
    "Game performance is slow (low FPS / laggy runtime)."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-create-an-original-non-call-of-duty-realistic-3d-military-action-game-concept-and-implement-the-initial-playable-slice-a-single-small-training-map-first-person-camera-basic-wasd-movement-mouse-look-jump-crouch-sprint-and-simple-weapon-handling-aim-shoot-using-three-js-react-three-fiber",
      "title": "Create an original (non-Call-of-Duty) realistic 3D military action game concept and implement the initial playable slice: a single small training map, first-person camera, basic WASD movement, mouse look, jump/crouch, sprint, and simple weapon handling (aim + shoot) using Three.js / React Three Fiber.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-online-multiplayer-mode-implemented-with-internet-computer-canister-state-client-polling-no-websockets-users-can-create-join-a-lobby-start-a-match-instance-and-see-at-least-two-players-represented-in-the-same-map-with-periodically-synchronized-positions-and-basic-actions",
      "title": "Add an online multiplayer mode implemented with Internet Computer canister state + client polling (no WebSockets): users can create/join a lobby, start a match instance, and see at least two players represented in the same map with periodically synchronized positions and basic actions.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-internet-identity-sign-in-to-associate-online-players-with-principals-and-display-a-simple-player-identity-label-in-lobbies-and-in-game-e-g-shortened-principal-or-user-chosen-nickname-stored-on-the-canister",
      "title": "Add Internet Identity sign-in to associate online players with principals and display a simple player identity label in lobbies and in-game (e.g., shortened principal or user-chosen nickname stored on the canister).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-game-assets-are-original-and-do-not-use-any-copyrighted-call-of-duty-black-ops-cold-war-content-names-logos-characters-maps-sounds-ui-styling-or-copied-likeness-add-an-explicit-in-app-disclaimer-that-the-game-is-an-original-project-and-is-not-affiliated-with-call-of-duty",
      "title": "Ensure all game assets are original and do not use any copyrighted Call of Duty / Black Ops Cold War content (names, logos, characters, maps, sounds, UI styling, or copied likeness). Add an explicit in-app disclaimer that the game is an original project and is not affiliated with Call of Duty.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-coherent-visual-theme-for-the-app-ui-menus-lobby-screens-hud-with-a-distinct-realistic-military-inspired-style-without-mimicking-any-specific-franchise-consistent-typography-spacing-button-styles-and-a-restrained-color-palette-avoid-blue-purple",
      "title": "Create a coherent visual theme for the app UI (menus, lobby screens, HUD) with a distinct realistic/military-inspired style (without mimicking any specific franchise): consistent typography, spacing, button styles, and a restrained color palette (avoid blue/purple).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-game-menus-and-hud-home-play-online-training-lobby-create-join-start-leave-in-game-hud-health-placeholder-ammo-placeholder-mini-status-and-a-simple-latency-last-sync-indicator-based-on-polling",
      "title": "Add basic game menus and HUD: Home (Play Online / Training), Lobby (create/join/start/leave), In-game HUD (health placeholder, ammo placeholder, mini status, and a simple latency/last-sync indicator based on polling).",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-true-offline-mode-that-is-playable-without-internet-identity-authentication-and-without-any-backend-canister-calls-ensuring-offline-gameplay-screens-do-not-trigger-react-query-polling-or-authenticated-backend-queries",
      "title": "Implement a true offline mode that is playable without Internet Identity authentication and without any backend/canister calls, ensuring offline gameplay screens do not trigger React Query polling or authenticated backend queries.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-dedicated-offline-gameplay-option-separate-from-the-current-training-view-that-provides-an-additional-single-player-experience-e-g-an-offline-skirmish-mode-using-the-existing-fps-controls-and-weapon-handling-with-locally-simulated-opponents-targets-and-no-backend-dependency",
      "title": "Add a dedicated offline gameplay option (separate from the current Training view) that provides an additional single-player experience (e.g., an 'Offline Skirmish' mode) using the existing FPS controls and weapon handling, with locally simulated opponents/targets and no backend dependency.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-offline-single-player-content-with-additional-gameplay-elements-beyond-the-current-initial-slice-including-at-minimum-a-basic-scoring-or-stats-mechanic-for-hits-and-at-least-one-additional-weapon-behavior-or-weapon-option-that-the-player-can-switch-to-during-offline-play",
      "title": "Expand the offline/single-player content with additional gameplay elements beyond the current initial slice, including (at minimum) a basic scoring or stats mechanic for hits and at least one additional weapon behavior or weapon option that the player can switch to during offline play.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-lobby-ui-error-handling-for-lobby-creation-failures-by-displaying-a-more-specific-user-readable-error-message-e-g-include-backend-error-text-when-available-instead-of-only-the-generic-toast-failed-to-create-lobby",
      "title": "Improve the Lobby UI error handling for lobby creation failures by displaying a more specific, user-readable error message (e.g., include backend error text when available) instead of only the generic toast 'Failed to create lobby'.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-unauthenticated-users-from-attempting-to-create-a-lobby-from-the-lobby-screen-disable-or-gate-the-create-new-lobby-action-when-internet-identity-is-not-connected-and-show-an-english-prompt-to-sign-in",
      "title": "Prevent unauthenticated users from attempting to create a lobby from the Lobby screen: disable or gate the 'Create New Lobby' action when Internet Identity is not connected, and show an English prompt to sign in.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-selectable-graphics-performance-setting-that-reduces-gpu-load-in-all-gameplay-scenes-training-offline-skirmish-online-match-by-defaulting-to-a-balanced-mode-and-allowing-a-lower-quality-mode-for-slower-devices",
      "title": "Add a user-selectable graphics/performance setting that reduces GPU load in all gameplay scenes (Training, Offline Skirmish, Online Match) by defaulting to a balanced mode and allowing a lower-quality mode for slower devices.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-optimize-visual-effects-that-currently-trigger-per-frame-react-state-updates-e-g-bullet-impact-effects-and-weapon-recoil-to-avoid-unnecessary-react-re-renders-during-gameplay",
      "title": "Optimize visual effects that currently trigger per-frame React state updates (e.g., bullet impact effects and weapon recoil) to avoid unnecessary React re-renders during gameplay.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-reduce-rendering-overhead-from-online-multiplayer-avatars-and-labels-by-minimizing-expensive-dom-overlays-and-unnecessary-per-frame-work-when-many-remote-players-are-present",
      "title": "Reduce rendering overhead from online multiplayer avatars and labels by minimizing expensive DOM overlays and unnecessary per-frame work when many remote players are present.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-reduce-unnecessary-network-and-render-churn-in-online-match-by-ensuring-position-updates-are-throttled-and-or-suppressed-when-movement-rotation-changes-are-below-a-small-threshold",
      "title": "Reduce unnecessary network and render churn in Online Match by ensuring position updates are throttled and/or suppressed when movement/rotation changes are below a small threshold.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-lightweight-in-game-performance-debug-readout-toggleable-showing-fps-and-current-graphics-mode-to-help-confirm-improvements-and-troubleshoot-slow-devices",
      "title": "Add a lightweight in-game performance/debug readout (toggleable) showing FPS and current graphics mode to help confirm improvements and troubleshoot slow devices.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-authenticated-host-only-action-to-select-the-map-for-a-lobby-before-starting-the-game-and-ensure-this-selection-is-persisted-and-used-when-the-host-starts-the-match",
      "title": "Add an authenticated host-only action to select the map for a lobby before starting the game, and ensure this selection is persisted and used when the host starts the match.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-create-at-least-one-new-fully-original-3d-map-geometry-layout-landmarks-with-a-modern-military-training-feel-inspired-by-popular-arena-layouts-but-not-copying-any-call-of-duty-map-and-make-it-available-as-a-selectable-map-option",
      "title": "Create at least one new fully original 3D map (geometry/layout/landmarks) with a modern-military training feel, inspired by popular arena layouts but not copying any Call of Duty map, and make it available as a selectable map option.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-user-facing-text-related-to-map-selection-and-map-names-is-in-english-and-includes-an-explicit-non-infringement-stance-in-naming-original-map-names-no-call-of-duty-map-names-or-close-variants",
      "title": "Ensure all user-facing text related to map selection and map names is in English and includes an explicit non-infringement stance in naming (original map names; no Call of Duty map names or close variants).",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-add-additional-original-hideouts-and-house-building-style-cover-to-every-existing-gameplay-map-so-that-each-map-feels-more-filled-in-and-offers-more-places-to-take-cover-without-blocking-basic-navigation-paths-update-these-map-components-frontend-src-game-maps-trainingrangemap-tsx-frontend-src-game-maps-harboryardmap-tsx-frontend-src-game-maps-desertoutpostmap-tsx-frontend-src-game-maps-junglecompoundmap-tsx",
      "title": "Add additional original hideouts and house/building-style cover to every existing gameplay map so that each map feels more filled-in and offers more places to take cover (without blocking basic navigation paths). Update these map components: frontend/src/game/maps/TrainingRangeMap.tsx, frontend/src/game/maps/HarborYardMap.tsx, frontend/src/game/maps/DesertOutpostMap.tsx, frontend/src/game/maps/JungleCompoundMap.tsx.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-add-grass-like-ground-detail-to-each-gameplay-map-to-improve-realism-while-keeping-performance-acceptable-and-consistent-with-the-current-graphics-settings-balanced-vs-performance-update-these-map-components-frontend-src-game-maps-trainingrangemap-tsx-frontend-src-game-maps-harboryardmap-tsx-frontend-src-game-maps-desertoutpostmap-tsx-frontend-src-game-maps-junglecompoundmap-tsx",
      "title": "Add grass-like ground detail to each gameplay map to improve realism while keeping performance acceptable and consistent with the current graphics settings (Balanced vs Performance). Update these map components: frontend/src/game/maps/TrainingRangeMap.tsx, frontend/src/game/maps/HarborYardMap.tsx, frontend/src/game/maps/DesertOutpostMap.tsx, frontend/src/game/maps/JungleCompoundMap.tsx.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-add-trees-placed-on-the-ground-in-maps-that-do-not-already-feature-them-using-original-low-poly-procedural-geometry-and-respecting-graphics-settings-ensure-trees-are-placed-around-the-edges-and-non-critical-areas-so-they-improve-realism-without-harming-navigation-update-at-minimum-frontend-src-game-maps-trainingrangemap-tsx-frontend-src-game-maps-harboryardmap-tsx-frontend-src-game-maps-desertoutpostmap-tsx-junglecompoundmap-tsx-already-contains-trees-only-adjust-if-needed-for-consistency-performance",
      "title": "Add trees placed on the ground in maps that do not already feature them, using original low-poly/procedural geometry and respecting graphics settings. Ensure trees are placed around the edges and non-critical areas so they improve realism without harming navigation. Update at minimum: frontend/src/game/maps/TrainingRangeMap.tsx, frontend/src/game/maps/HarborYardMap.tsx, frontend/src/game/maps/DesertOutpostMap.tsx (JungleCompoundMap.tsx already contains trees; only adjust if needed for consistency/performance).",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-add-visible-doors-to-house-building-structures-across-maps-visual-only-no-interaction-required-using-original-geometry-materials-consistent-with-each-map-s-building-style-update-these-map-components-frontend-src-game-maps-trainingrangemap-tsx-sheds-frontend-src-game-maps-harboryardmap-tsx-warehouse-sheds-frontend-src-game-maps-desertoutpostmap-tsx-central-building-huts-where-appropriate-frontend-src-game-maps-junglecompoundmap-tsx-wooden-huts",
      "title": "Add visible doors to house/building structures across maps (visual-only; no interaction required) using original geometry/materials consistent with each map’s building style. Update these map components: frontend/src/game/maps/TrainingRangeMap.tsx (sheds), frontend/src/game/maps/HarborYardMap.tsx (warehouse + sheds), frontend/src/game/maps/DesertOutpostMap.tsx (central building + huts where appropriate), frontend/src/game/maps/JungleCompoundMap.tsx (wooden huts).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-lobby-ui-surfaces-the-real-backend-error-reason-when-lobby-creation-fails-instead-of-a-generic-message-like-failed-using-english-user-facing-text",
      "title": "Ensure the Lobby UI surfaces the real backend error reason when lobby creation fails (instead of a generic message like \"failed\"), using English user-facing text.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-reliable-production-build-workflow-that-generates-an-itch-io-ready-html5-build-folder-containing-an-index-html-and-all-required-static-assets-including-assets-generated-so-the-user-can-zip-the-output-folder-and-upload-it-to-itch-io",
      "title": "Add a reliable production build workflow that generates an itch.io-ready HTML5 build folder containing an index.html and all required static assets (including /assets/generated/*) so the user can zip the output folder and upload it to itch.io.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-add-clear-english-documentation-in-repo-describing-exactly-how-to-generate-the-itch-io-build-folder-and-zip-it-for-upload-including-how-to-verify-the-output-locally-before-uploading",
      "title": "Add clear, English documentation in-repo describing exactly how to generate the itch.io build folder and zip it for upload, including how to verify the output locally before uploading.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-allow-changing-the-production-build-output-folder-name-currently-dist-by-making-vite-s-build-outdir-configurable-while-keeping-dist-as-the-default-when-no-override-is-provided",
      "title": "Allow changing the production build output folder name (currently \"dist\") by making Vite's build.outDir configurable, while keeping \"dist\" as the default when no override is provided.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-itch-io-build-documentation-to-reflect-that-the-build-folder-name-may-be-configured-and-clearly-state-how-to-identify-which-folder-to-zip-for-upload-using-english-user-facing-text",
      "title": "Update the itch.io build documentation to reflect that the build folder name may be configured, and clearly state how to identify which folder to zip for upload (using English user-facing text).",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Design and build an original, highly realistic 3D online multiplayer military action game (no copyrighted Call of Duty/Cold War content).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add online multiplayer functionality (networked play).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Implement backend game state management in a single Motoko actor: lobby registry, match registry, player presence, and an authoritative snapshot structure for players (position/rotation, timestamps) and lightweight actions (e.g., fired shots count or last-shot timestamp).",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Add an offline mode so the game can be played without online multiplayer connectivity (e.g., local training/sandbox).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Expand the game with additional content/features beyond the current initial slice (more gameplay elements, maps, weapons, or modes—TBD).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Fix backend authorization so an authenticated Internet Identity user can successfully create a lobby via joinLobby (and does not hit an 'Unauthorized' trap due to missing #user permission). Ensure the anonymous principal is still blocked from creating lobbies.",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Fix backend authorization so an authenticated Internet Identity user can save a user profile via saveCallerUserProfile without requiring pre-existing #user permissions (avoid a permissions deadlock for first-time users). Anonymous principal must still be blocked.",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Add additional multiplayer maps with a modern-military feel inspired by (but not copying) popular shooter layouts; ensure all geometry, landmarks, and naming are fully original and non-infringing.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add support for multiple gameplay maps by introducing a stable, explicit map identifier (e.g., a Text/enum-like value) and ensuring the backend can store and return the selected map for an online match.",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add more hideouts and additional house/building cover to fill out the maps (increase environment density and cover locations).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Improve map environment realism by adding ground grass, placeable trees, and functional/visual doors on houses/buildings (original assets only).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Fix backend authorization so an authenticated Internet Identity user can successfully create a new lobby via the joinLobby method, while the anonymous principal remains blocked.",
      "reqIds": [
        "REQ-28"
      ],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Remove or revise backend permission checks that currently rely on #user permissions in a way that can deadlock normal gameplay (e.g., leaveLobby, updatePlayerPosition, getPlayersInGame, startGame, endGame), so that authenticated users can perform expected multiplayer actions without needing manual permission assignment, while anonymous callers remain blocked.",
      "reqIds": [
        "REQ-29"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add a release/build packaging workflow to generate a deployable HTML5 build folder (index.html + assets) suitable for uploading to itch.io (zip-ready).",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "3d",
  "projectName": "Original realistic 3D online military action game (no Call of Duty/Cold War copyrighted content)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}